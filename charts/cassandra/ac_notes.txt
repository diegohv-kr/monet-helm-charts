//TEST
kubectl delete statefulset --cascade=false -n cassandra monetization-cassandra
helm upgrade --set config.cluster_size=3 --set persistence.size=10Gi monetization-cassandra cassandra -n cassandra

//STAGE
//kubectl delete statefulset --cascade=false -n cassandra monetization-cassandra
//ac: 10/5/2020 was able to run this wouth deleting the statefulset.
helm upgrade --set config.cluster_size=3 --set persistence.size=100Gi monetization-cassandra cassandra -n cassandra

//PROD
kubectl delete statefulset --cascade=false -n cassandra monetization-cassandra
helm upgrade --set config.cluster_size=6 --set persistence.size=1000Gi monetization-cassandra cassandra -n cassandra

//we need to determine how to make the storageclass size variable per env. - make it a variable int he pipelines

//after the upgrade the existing nodes don't get the cahnges as they are running. I ended up killing them to get them to restart and pick up.
//seems that there should be a cleaner way.

//to see if the nodes are up, run
nodetool status
//inside of an existing pod

//create package
// cassandra/install.sh

//don't forget your namespace. env vars don't seem to always work.
kubectl -n cassandra get pods